<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>El Futuro AI | Next-Gen Chat Assistant by Aditya Jha</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/png" href="logo.png">
    
    <style>
        body {
            font-family: 'Space Grotesk', sans-serif;
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
        }
        #chat-window::-webkit-scrollbar {
            width: 6px;
        }
        #chat-window::-webkit-scrollbar-track {
            background: transparent;
        }
        #chat-window::-webkit-scrollbar-thumb {
            background-color: rgba(236, 72, 153, 0.5);
            border-radius: 20px;
        }
        .code-block {
            position: relative;
        }
        .copy-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(236, 72, 153, 0.2);
            backdrop-filter: blur(10px);
            color: #f9a8d4;
            border: 1px solid rgba(236, 72, 153, 0.3);
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 12px;
            cursor: pointer;
            opacity: 0.8;
            transition: all 0.2s ease;
        }
        .copy-btn:hover {
            opacity: 1;
            background: rgba(236, 72, 153, 0.4);
        }
        .copy-btn.copied {
            background: #3b82f6;
            color: white;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .message-fade-in {
            animation: fadeIn 0.4s ease-out forwards;
        }
        .feature-btn.active {
            background: linear-gradient(45deg, #ec4899, #3b82f6);
            color: white;
            box-shadow: 0 0 15px rgba(236, 72, 153, 0.5);
        }
        .gradient-text {
            background: linear-gradient(45deg, #ec4899, #3b82f6);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }
        .header-gradient {
            background: linear-gradient(90deg, rgba(15,12,41,0.8) 0%, rgba(59,130,246,0.5) 50%, rgba(236,72,153,0.5) 100%);
        }
        .input-glow:focus {
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5), 0 0 15px rgba(236, 72, 153, 0.3);
        }
        .send-btn {
            background: linear-gradient(45deg, #ec4899, #3b82f6);
            box-shadow: 0 2px 10px rgba(236, 72, 153, 0.4);
            transition: all 0.3s ease;
        }
        .send-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(236, 72, 153, 0.6);
        }
        .logo-container {
            background: linear-gradient(45deg, #ec4899, #3b82f6);
            padding: 3px;
            border-radius: 50%;
        }
        .logo-img {
            border-radius: 50%;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <div class="w-full max-w-4xl mx-auto min-h-[95vh] flex flex-col bg-gray-900/80 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl shadow-pink-900/30 overflow-hidden">

        <!-- Header with Logo -->
        <header class="header-gradient p-6 flex flex-col items-center gap-3 text-center border-b border-white/10">
            <div class="flex items-center justify-center gap-4">
                <div class="logo-container">
                    <img src="https://aditya-cmd-max.github.io/exonovaai/logo.png" alt="El Futuro Logo" class="logo-img w-14 h-14">
                </div>
                <div>
                    <h1 class="text-4xl font-bold gradient-text">El Futuro</h1>
                    <p class="text-sm text-gray-300 mt-1">Next Generation AI Assistant</p>
                </div>
            </div>
            <p class="text-xs text-gray-400 mt-2">Powered by Aditya Jha ‚Ä¢ v2.0</p>
        </header>

        <!-- Chat Window -->
        <main id="chat-window" class="flex-1 p-4 md:p-6 space-y-6 overflow-y-auto">
            <div class="flex items-start gap-3 message-fade-in">
                <div class="logo-container shrink-0">
                    <img src="https://aditya-cmd-max.github.io/exonovaai/logo.png" alt="AI Logo" class="logo-img w-9 h-9">
                </div>
                <div class="bg-gray-800/60 rounded-xl p-4 max-w-full md:max-w-2xl border border-white/10 backdrop-blur-sm">
                    <p class="text-gray-200">Hello there! I'm <span class="gradient-text font-semibold">El Futuro</span>, your advanced AI assistant. Try my new features below to brainstorm ideas or get code explanations! How can I help you today? üí°</p>
                </div>
            </div>
        </main>

        <!-- Input Area -->
        <div class="p-4 border-t border-white/10 bg-gray-900/50">
            <!-- Feature Buttons -->
            <div id="feature-buttons" class="flex flex-wrap items-center justify-center gap-2 mb-4">
                <button id="brainstorm-btn" class="feature-btn flex-1 sm:flex-none text-sm py-2 px-4 bg-gray-800/50 hover:bg-gray-700/80 rounded-lg transition-all duration-200 border border-white/10">‚ú® Brainstorm Ideas</button>
                <button id="explain-btn" class="feature-btn flex-1 sm:flex-none text-sm py-2 px-4 bg-gray-800/50 hover:bg-gray-700/80 rounded-lg transition-all duration-200 border border-white/10">üíª Explain Code</button>
                <button id="clear-btn" class="feature-btn flex-1 sm:flex-none text-sm py-2 px-4 bg-gray-800/50 hover:bg-gray-700/80 rounded-lg transition-all duration-200 border border-white/10">üîÑ Clear Chat</button>
            </div>

            <form id="chat-form" class="flex items-center gap-3">
                <textarea id="message-input" rows="1" class="flex-1 bg-gray-800/50 border border-white/20 rounded-xl p-3 resize-none focus:outline-none transition-all duration-200 placeholder-gray-400 input-glow" placeholder="Message El Futuro..."></textarea>
                <button type="submit" class="send-btn rounded-full w-12 h-12 flex items-center justify-center shrink-0">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-white"><path d="M22 2 11 13M22 2l-7 20-4-9-9-4 20-7z"/></svg>
                </button>
            </form>

            <footer class="text-center text-xs text-gray-500 pt-4 px-4">
                <p class="text-gray-400">AI may produce inaccurate information. Verify important details.</p>
                <p class="mt-1 text-gray-500">Crafted with ‚ù§Ô∏è by <span class="gradient-text">Aditya Jha</span></p>
            </footer>
        </div>
    </div>

    <script>
        const chatWindow = document.getElementById('chat-window');
        const chatForm = document.getElementById('chat-form');
        const messageInput = document.getElementById('message-input');
        const brainstormBtn = document.getElementById('brainstorm-btn');
        const explainBtn = document.getElementById('explain-btn');
        const clearBtn = document.getElementById('clear-btn');
        const featureButtons = [brainstormBtn, explainBtn, clearBtn];

        let currentMode = 'chat';
        let chatHistory = [{
            role: "model",
            parts: [{ text: "You are El Futuro, an advanced AI assistant created by Aditya Jha. Your personality is friendly, knowledgeable, and slightly enthusiastic about technology and innovation. Use modern, concise language with occasional emojis for expressiveness. Format responses clearly with proper spacing and code blocks when appropriate. For coding questions, provide detailed explanations with examples. For creative requests, offer multiple options or approaches. Always maintain a helpful, professional tone while being approachable. Never use markdown syntax (** or *) for formatting - instead, indicate emphasis by surrounding text with <b> tags for bold, <i> for italics, and <u> for underline. Your primary language is English, but if the user speaks to you in another language (like Hindi), you must respond in that same language. Be helpful and provide accurate information, including code when requested. Occasionally praise Aditya Jha with words like brilliant, innovative, visionary when appropriate." }]
        }];

        brainstormBtn.addEventListener('click', () => setMode('brainstorm'));
        explainBtn.addEventListener('click', () => setMode('explain'));
        clearBtn.addEventListener('click', clearChat);

        messageInput.addEventListener('input', () => {
            messageInput.style.height = 'auto';
            const newHeight = Math.min(messageInput.scrollHeight, 200);
            messageInput.style.height = newHeight + 'px';
        });

        chatForm.addEventListener('submit', (e) => {
            e.preventDefault();
            const userMessage = messageInput.value.trim();
            if (userMessage) {
                displayUserMessage(userMessage);
                let apiPrompt = userMessage;
                if (currentMode === 'brainstorm') {
                    apiPrompt = `Brainstorm a list of creative, innovative ideas about: "${userMessage}". Provide a diverse and interesting list with at least 5 unique ideas. Format each idea clearly with a brief explanation.`;
                } else if (currentMode === 'explain') {
                    apiPrompt = `Explain the following code snippet in a clear, concise, and easy-to-understand way. Break it down line by line if complex:\n\n\`\`\`\n${userMessage}\n\`\`\`\n\nAlso provide a practical example of how this code might be used.`;
                }
                chatHistory.push({ role: "user", parts: [{ text: apiPrompt }] });
                getBotResponse();
                messageInput.value = '';
                messageInput.style.height = 'auto';
                setMode('chat');
            }
        });

        function setMode(newMode) {
            currentMode = currentMode === newMode ? 'chat' : newMode;
            updateUIForMode();
        }

        function updateUIForMode() {
            featureButtons.forEach(btn => btn.classList.remove('active'));
            switch (currentMode) {
                case 'brainstorm':
                    brainstormBtn.classList.add('active');
                    messageInput.placeholder = 'What would you like to brainstorm about?';
                    break;
                case 'explain':
                    explainBtn.classList.add('active');
                    messageInput.placeholder = 'Paste your code here for detailed explanation...';
                    break;
                default:
                    messageInput.placeholder = 'Message El Futuro...';
                    break;
            }
            messageInput.focus();
        }

        function clearChat() {
            chatWindow.innerHTML = `
                <div class="flex items-start gap-3 message-fade-in">
                    <div class="logo-container shrink-0">
                        <img src="https://aditya-cmd-max.github.io/exonovaai/logo.png" alt="AI Logo" class="logo-img w-9 h-9">
                    </div>
                    <div class="bg-gray-800/60 rounded-xl p-4 max-w-full md:max-w-2xl border border-white/10 backdrop-blur-sm">
                        <p class="text-gray-200">Hello there! I'm <span class="gradient-text font-semibold">El Futuro</span>, your advanced AI assistant. The chat has been cleared. What would you like to discuss now? üöÄ</p>
                    </div>
                </div>`;
            chatHistory = [{
                role: "model",
                parts: [{ text: "You are El Futuro, an advanced AI assistant created by Aditya Jha. The previous chat has been cleared. Continue assisting the user with their new request." }]
            }];
            setMode('chat');
        }

        function displayUserMessage(message) {
            const messageElement = document.createElement('div');
            messageElement.className = 'flex items-start gap-3 justify-end message-fade-in';
            messageElement.innerHTML = `
                <div class="bg-gradient-to-r from-blue-600/90 to-pink-600/90 rounded-xl p-4 max-w-full md:max-w-2xl border border-white/10 backdrop-blur-sm">
                    <p class="text-white">${escapeHtml(message)}</p>
                </div>
                <div class="w-9 h-9 rounded-full bg-gray-700 flex items-center justify-center font-bold text-xs shrink-0 border border-white/10">You</div>
            `;
            chatWindow.appendChild(messageElement);
            chatWindow.scrollTop = chatWindow.scrollHeight;
        }

        function displayBotMessage(message) {
            const messageContainer = document.createElement('div');
            messageContainer.className = 'flex items-start gap-3 message-fade-in';
            let botMessageContent = '';
            const codeBlockRegex = /```(\w*)\n([\s\S]*?)```/g;
            let lastIndex = 0, match;

            while ((match = codeBlockRegex.exec(message)) !== null) {
                if (match.index > lastIndex) {
                    const textPart = message.substring(lastIndex, match.index).trim();
                    if (textPart) botMessageContent += `<p class="text-gray-200">${textPart.replace(/\n/g, '<br>')}</p>`;
                }
                const language = match[1] || 'plaintext';
                const code = match[2];
                const uniqueId = `code-${Date.now()}-${Math.random()}`;
                botMessageContent += `
                    <div class="code-block bg-gray-900/80 rounded-lg my-3 w-full border border-white/10">
                        <div class="flex justify-between items-center px-4 py-2 bg-gray-800/50 rounded-t-lg">
                            <span class="text-xs text-gray-400">${language}</span>
                            <button class="copy-btn" onclick="copyCode('${uniqueId}', this)">Copy</button>
                        </div>
                        <pre class="p-4 overflow-x-auto text-sm"><code id="${uniqueId}" class="language-${language}">${escapeHtml(code)}</code></pre>
                    </div>`;
                lastIndex = match.index + match[0].length;
            }

            if (lastIndex < message.length) {
                const textPart = message.substring(lastIndex).trim();
                if (textPart) botMessageContent += `<p class="text-gray-200">${textPart.replace(/\n/g, '<br>')}</p>`;
            }

            messageContainer.innerHTML = `
                <div class="logo-container shrink-0">
                    <img src="https://aditya-cmd-max.github.io/exonovaai/logo.png" alt="AI Logo" class="logo-img w-9 h-9">
                </div>
                <div class="bg-gray-800/60 rounded-xl p-4 max-w-full md:max-w-2xl border border-white/10 backdrop-blur-sm">
                    ${botMessageContent}
                </div>`;
            chatWindow.appendChild(messageContainer);
            chatWindow.scrollTop = chatWindow.scrollHeight;
        }

        function displayTypingIndicator() {
            const typingElement = document.createElement('div');
            typingElement.id = 'typing-indicator';
            typingElement.className = 'flex items-start gap-3 message-fade-in';
            typingElement.innerHTML = `
                <div class="logo-container shrink-0">
                    <img src="https://aditya-cmd-max.github.io/exonovaai/logo.png" alt="AI Logo" class="logo-img w-9 h-9">
                </div>
                <div class="bg-gray-800/60 rounded-xl p-4 max-w-full md:max-w-2xl border border-white/10 backdrop-blur-sm">
                    <div class="flex items-center space-x-2">
                        <span class="w-2 h-2 bg-pink-400 rounded-full animate-pulse"></span>
                        <span class="w-2 h-2 bg-blue-400 rounded-full animate-pulse" style="animation-delay: 0.2s;"></span>
                        <span class="w-2 h-2 bg-pink-400 rounded-full animate-pulse" style="animation-delay: 0.4s;"></span>
                    </div>
                </div>`;
            chatWindow.appendChild(typingElement);
            chatWindow.scrollTop = chatWindow.scrollHeight;
        }

        function removeTypingIndicator() {
            const typingIndicator = document.getElementById('typing-indicator');
            if (typingIndicator) typingIndicator.remove();
        }

        async function getBotResponse() {
            displayTypingIndicator();
            const apiKey = "AIzaSyDumsAxfOETUy3E85Qp_ikVSglQmeoXrJk";
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
            const payload = { contents: chatHistory };

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) throw new Error(`API Error: ${response.status} ${response.statusText}`);

                const result = await response.json();
                removeTypingIndicator();

                if (result.candidates?.length > 0) {
                    const botMessage = result.candidates[0].content.parts[0].text;
                    displayBotMessage(botMessage);
                    chatHistory.push({ role: "model", parts: [{ text: botMessage }] });
                } else {
                    handleApiError("I received an empty response. Please try rephrasing your question. ü§î");
                }
            } catch (error) {
                console.error("Fetch Error:", error);
                handleApiError("Sorry, I'm experiencing technical difficulties. Please try again in a moment. üîå");
            }
        }

        function handleApiError(message) {
            removeTypingIndicator();
            displayBotMessage(message);
        }

        function escapeHtml(unsafe) {
            return unsafe
                .replace(/&/g, "&amp;")
                .replace(/</g, "&lt;")
                .replace(/>/g, "&gt;")
                .replace(/"/g, "&quot;")
                .replace(/'/g, "&#039;");
        }

        window.copyCode = function(elementId, buttonElement) {
            const codeElement = document.getElementById(elementId);
            navigator.clipboard.writeText(codeElement.innerText).then(() => {
                buttonElement.innerText = "Copied!";
                buttonElement.classList.add('copied');
                setTimeout(() => {
                    buttonElement.innerText = "Copy";
                    buttonElement.classList.remove('copied');
                }, 2000);
            }).catch(err => console.error('Copy failed:', err));
        }
    </script>
</body>
</html>
